@page
@using Hospital.Models
@model RegisterModel
@{
    ViewData["Title"] = "Register";
}

<div class="register-container">
    <div class="register-card">
        <!-- Form section -->
        <div class="register-form">
            <h2>Create Account</h2>
            <form id="registerForm" asp-route-returnUrl="@Model.ReturnUrl" method="post">
                <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>

                <div class="row g-3">
                    <div class="col-md-6 form-floating">
                        <input asp-for="Input.Name" class="form-control" placeholder=" " autocomplete="name" />
                        <label asp-for="Input.Name">Name</label>
                        <span asp-validation-for="Input.Name" class="text-danger"></span>
                    </div>
                    <div class="col-md-6 form-floating">
                        <input asp-for="Input.Email" type="email" class="form-control" placeholder=" " autocomplete="username" />
                        <label asp-for="Input.Email">Email</label>
                        <span asp-validation-for="Input.Email" class="text-danger"></span>
                    </div>
                    <div class="col-md-6 form-floating">
                        <input asp-for="Input.Password" type="password" class="form-control" placeholder=" " autocomplete="new-password" />
                        <label asp-for="Input.Password">Password</label>
                        <span asp-validation-for="Input.Password" class="text-danger"></span>
                    </div>
                    <div class="col-md-6 form-floating">
                        <input asp-for="Input.ConfirmPassword" type="password" class="form-control" placeholder=" " autocomplete="new-password" />
                        <label asp-for="Input.ConfirmPassword">Confirm Password</label>
                        <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                    </div>
                    <div class="col-md-12 form-floating">
                        <input asp-for="Input.PictureURL" class="form-control" placeholder="Profile Picture URL" />
                        <label asp-for="Input.PictureURL">Profile Picture URL</label>
                        <span asp-validation-for="Input.PictureURL" class="text-danger"></span>
                    </div>
                    <div class="col-md-12 form-floating">
                        <input asp-for="Input.Address" class="form-control" placeholder=" " />
                        <label asp-for="Input.Address">Address</label>
                        <span asp-validation-for="Input.Address" class="text-danger"></span>
                    </div>
                    <div class="col-md-6 form-floating">
                        <input asp-for="Input.DOB" type="date" class="form-control" />
                        <label asp-for="Input.DOB">Date of Birth</label>
                        <span asp-validation-for="Input.DOB" class="text-danger"></span>
                    </div>
                    <div class="col-md-6 form-floating">
                        @{
                            var genderList = Html.GetEnumSelectList<Gender>().ToList();
                            genderList.Insert(0, new SelectListItem { Text = "Select Gender", Value = "" });
                        }
                        <select asp-for="Input.Gender" asp-items="genderList" class="form-select custom-select" placeholder=" "></select>
                        <label asp-for="Input.Gender">Gender</label>
                        <span asp-validation-for="Input.Gender" class="text-danger"></span>
                    </div>

                </div>

                <button id="registerSubmit" type="submit" class="btn btn-primary w-100 mt-4">Register</button>
            </form>
            <div class="text-center mt-3">
                <small>Already have an account? <a asp-page="./Login">Login</a></small>
            </div>
        </div>

        <!-- Image section -->
        <div class="register-image"></div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<style>
    /* Container */
    .register-container {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #f0f4f8;
        padding: 1rem;
    }

    /* Card */
    .register-card {
        display: flex;
        width: 100%;
        max-width: 900px;
        background: #fff;
        border-radius: 1rem;
        overflow: hidden;
        box-shadow: 0 15px 40px rgba(0,0,0,0.1);
    }

    /* Form section */
    .register-form {
        flex: 1 1 400px;
        padding: 3rem 2rem;
    }

        /* Heading */
        .register-form h2 {
            font-weight: 700;
            margin-bottom: 2rem;
            color: #333;
        }

        /* Inputs and selects */
        .register-form .form-control,
        .register-form .form-select {
            border-radius: 0.6rem;
            border: 1px solid #ccc;
            padding: 1rem;
            font-size: 1rem;
            transition: all 0.3s;
        }

            /* Focus effect */
            .register-form .form-control:focus,
            .register-form .form-select:focus {
                border-color: #4e9cff;
                box-shadow: 0 0 0 0.2rem rgba(78, 156, 255, 0.25);
            }

            /* Custom dropdown styling */
            .register-form .form-select.custom-select {
                appearance: none;
                -webkit-appearance: none;
                -moz-appearance: none;
                background: #fff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23666' d='M2 0L0 2h4z'/%3E%3C/svg%3E") no-repeat right 0.75rem center/8px 10px;
                padding: 1rem 2rem 1rem 1rem; /* top-right-bottom-left */
                border-radius: 0.6rem;
                border: 1px solid #ccc;
                font-size: 1rem;
                color: #333;
            }

                /* Dropdown focus effect */
                .register-form .form-select.custom-select:focus {
                    border-color: #4e9cff;
                    box-shadow: 0 0 0 0.2rem rgba(78, 156, 255, 0.25);
                }

        /* Floating label for input, textarea, select */
        .register-form .form-floating input,
        .register-form .form-floating select,
        .register-form .form-floating textarea {
            background: transparent;
        }

            /* Floating label animation */
            .register-form .form-floating input:focus + label,
            .register-form .form-floating input:not(:placeholder-shown) + label,
            .register-form .form-floating textarea:focus + label,
            .register-form .form-floating textarea:not(:placeholder-shown) + label,
            .register-form .form-floating select.custom-select:focus + label,
            .register-form .form-floating select.custom-select:invalid + label {
                top: -0.5rem;
                left: 0.75rem;
                font-size: 0.75rem;
                color: #4e9cff;
            }

    /* Image section */
    .register-image {
        flex: 1 1 400px;
        min-height: 500px;
        background: url('/images/medicines/pic2.jpg') center/cover no-repeat;
    }

    /* Responsive for mobile */
    @@media (max-width: 768px) {
        .register-card {
            flex-direction: column;
        }

        .register-image {
            height: 200px;
        }
    }

</style>
